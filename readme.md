# Go Auth Service

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∞–∂–µ—Ä–Ω—ã–º–∏ –∑–∞–ª–∞–º–∏ –Ω–∞ —è–∑—ã–∫–µ Go. –°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –≤–∏–¥–µ –ø—Ä–æ—Å—Ç–æ–≥–æ HTTP-—Å–µ—Ä–≤–µ—Ä–∞.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (`/register`)
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–≤—Ö–æ–¥ / –≤—ã—Ö–æ–¥) —Å JWT (`/login`, `/logout`)
- ‚úÖ –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–∞–∂–¥—ã–π —á–∞—Å)
- ‚úÖ –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ª–æ–≤ (`/gyms`)
  - –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∑–∞–ª—É (`/gyms/join`)
  - –í—ã—Ö–æ–¥ –∏–∑ –∑–∞–ª–∞ (`/gyms/leave`)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∑–∞–ª–æ–≤ (`/gyms/my`)
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞–ª–∞ (`/gyms/members`)

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
go-auth-service/
‚îú‚îÄ‚îÄ cmd/ # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äî main.go
‚îú‚îÄ‚îÄ internal/
‚îÇ ‚îú‚îÄ‚îÄ db/ # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îÇ ‚îú‚îÄ‚îÄ handlers/ # HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ ‚îú‚îÄ‚îÄ middleware/ # JWT middleware
‚îÇ ‚îú‚îÄ‚îÄ services/ # –õ–æ–≥–∏–∫–∞ –∏ –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ ‚îú‚îÄ‚îÄ usecases/ # –ë–∏–∑–Ω–µ—Å-–∫–µ–π—Å—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)
‚îú‚îÄ‚îÄ pkg/ # –£—Ç–∏–ª–∏—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–≥–µ—Ä)
‚îú‚îÄ‚îÄ migrations/ # SQL-–º–∏–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ go.mod / go.sum

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/yeahmerey/go-auth-service.git
cd go-auth-service

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π .env —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å —Ç—É–¥–∞:

DB_HOST=go_auth_db
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=auth_db
JWT_SECRET=your_jwt_secret


3. –ó–∞–ø—É—Å–∫ —Å Docker
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
docker-compose up --build
–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ª–∏–±–æ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–¥, –ª–∏–±–æ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (golang-migrate –∏ —Ç.–¥.)

4. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
go run cmd/main.go

## üìÆ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å           | –û–ø–∏—Å–∞–Ω–∏–µ                                      | –ó–∞—â–∏—â—ë–Ω |
|-------|----------------|-----------------------------------------------|---------|
| POST  | `/register`    | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è               | ‚ùå      |
| POST  | `/login`       | –í—Ö–æ–¥ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞                   | ‚ùå      |
| POST  | `/logout`      | –í—ã—Ö–æ–¥ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ blacklist)         | ‚úÖ      |
| GET   | `/gyms`        | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∑–∞–ª–æ–≤                   | ‚úÖ      |
| POST  | `/gyms/join`   | –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∑–∞–ª—É                         | ‚úÖ      |
| POST  | `/gyms/leave`  | –ü–æ–∫–∏–Ω—É—Ç—å –∑–∞–ª                                  | ‚úÖ      |
| GET   | `/gyms/my`     | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ª–æ–≤ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è         | ‚úÖ      |
| GET   | `/gyms/members`| –ü–æ–ª—É—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–∞–ª–∞ 

